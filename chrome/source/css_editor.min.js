var LiveCSSEditor=function(f){f=f||{warn:true,save:true};var n="",a=null;function d(p){return document.getElementById("LiveCSSEditor-"+p)}function e(p){if(f.save===true){return window.localStorage.getItem("livecsseditor-"+p)}else{return false}}function c(p,q){if(f.save===true){window.localStorage.setItem("livecsseditor-"+p,q);return true}else{return false}}function b(){var q=d("panel"),p;if(q.className.indexOf("bottom")===-1){q.className+=" bottom";p="bottom"}else{q.className=q.className.replace(" bottom","");p="top"}c("position",p)}function l(){var q=d("PageCSS"),p=d("panel");if(f.save!==true&&f.warn===true){if(!confirm("Are you sure?")){return}}clearInterval(a);q.parentElement.removeChild(q);p.parentElement.removeChild(p)}function k(){var p=d("bot"),q=d("close");p.onclick=b;q.onclick=l}function m(){var p=document.createElement("div");p.setAttribute("id","LiveCSSEditor-panel");p.innerHTML='<div id="LiveCSSEditor-actions"><div id="LiveCSSEditor-close">Close</div><div id="LiveCSSEditor-bot">Bottom</div></div><div id="LiveCSSEditor-pad"><div id="LiveCSSEditor-label">Live CSS Editor</div><textarea id="LiveCSSEditor-code"></textarea></div>';document.body.appendChild(p);if(e("position")==="bottom"){b()}k();d("code").focus()}function j(){var p=document.getElementsByTagName("head")[0],q=document.createElement("style");q.id="LiveCSSEditor-PageCSS";q.setAttribute("type","text/css");p.appendChild(q)}function h(p){var q=d("PageCSS");p=p||"";q.innerHTML=p;n=p;c("cache",p)}function g(){var p=d("code");if(p){if(n===p.value){return false}h(p.value)}else{clearInterval(a)}}function i(){a=setInterval(g,1000)}function o(){var q,p;j();m();p=e("cache");if(p){q=d("code");q.value=p}h();i()}if(!d("panel")){o()}else{l()}};